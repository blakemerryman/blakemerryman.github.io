<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>nerdy on Blake Merryman</title><link>http://www.blakemerryman.com/tags/nerdy/</link><description>Recent content in nerdy on Blake Merryman</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Tue, 23 Dec 2014 16:52:31 +0000</lastBuildDate><atom:link href="http://www.blakemerryman.com/tags/nerdy/rss.xml" rel="self" type="application/rss+xml"/><item><title>Youtube View Counter</title><link>http://www.blakemerryman.com/posts/2014-12-23-youtube-view-counter/</link><pubDate>Tue, 23 Dec 2014 16:52:31 +0000</pubDate><guid>http://www.blakemerryman.com/posts/2014-12-23-youtube-view-counter/</guid><description>&lt;p>Youtube recently ran into issues with it&amp;rsquo;s view counter for the &lt;a href="https://www.youtube.com/watch?gl=GB&amp;amp;hl=en-GB&amp;amp;v=9bZkp7q19f0">Gangnum Style video&lt;/a>. Basically, Google was using 32-bit integers to store the view counter value for its videos. This means that it had a maximum possible value of 2,147,483,647. This essentially &amp;ldquo;broke the internet&amp;rdquo; (at least for this one video) when the number of views passed that limit. My friend Allen asked me why Google didn&amp;rsquo;t already use the 64-bit version (which has a maximum value of 9,223,372,036,854,775,807&amp;hellip; that&amp;rsquo;s nine &lt;em>quintillion&lt;/em> with a Q) rather than 32-bit version. The answer: bandwidth.&lt;/p>
&lt;h2 id="first-some-stats--facts">First, Some Stats &amp;amp; Facts:&lt;/h2>
&lt;ul>
&lt;li>In &lt;a href="http://youtube-global.blogspot.com/2012/01/holy-nyans-60-hours-per-minute-and-4.html">January 2012&lt;/a>, Google had over 4 billion views per day. It&amp;rsquo;s definitely more now, but this is the most up-to-date stat I could find.&lt;/li>
&lt;li>Every time you load a Youtube video, you are downloading that view counter (along with the video and everything else on the page).&lt;/li>
&lt;li>32-bit integers take up 4 Bytes; 64-bit integers take up 8 Bytes.&lt;/li>
&lt;/ul>
&lt;h2 id="now-for-some-math">Now For Some Math:&lt;/h2>
&lt;pre>&lt;code>oldCounterBandwidth = ( 4 Bytes / view ) * ( 4 billion views / day ) = 16 GB / day
newCounterBandwidth = ( 8 Bytes / view ) * ( 4 billion views / day ) = 32 GB / day
&lt;/code>&lt;/pre>
&lt;p>&lt;em>Note: Final values were converted from Bytes to GigaBytes for clarity.&lt;/em>&lt;/p>
&lt;p>By converting to 64-bit integers to store the view counters, they are doubling their bandwidth from 16 GB per day to 32 GB per day&amp;hellip;. &lt;strong>just to load view counters&lt;/strong>. Keep in mind that the daily view stat I found is from January 2012.&lt;/p></description></item></channel></rss>